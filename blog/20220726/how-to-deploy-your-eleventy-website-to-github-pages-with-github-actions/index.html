<!doctype html><html lang="en"><head><title>How to deploy your Eleventy website to GitHub Pages with GitHub Actions - Maarten Tibau</title><meta name="description" content="Everything you need to know to easily deploy your Eleventy website to GitHub Pages with the help of GitHub Actions."><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;700&display=swap" rel="stylesheet"><link href="https://unpkg.com/prismjs@1.28.0/themes/prism-okaidia.css" rel="stylesheet"><link rel="stylesheet" type="text/css" href="https://maarten.be/static/css/main.css?v=1658848883551" media="screen"><link rel="apple-touch-icon" sizes="180x180" href="https://maarten.be/static/meta/apple-touch-icon.png?v=1658848883551"><link rel="icon" type="image/x-icon" href="https://maarten.be/static/meta/favicon.ico?v=1658848883551"><link rel="icon" type="image/png" sizes="32x32" href="https://maarten.be/static/meta/favicon-32x32.png?v=1658848883551"><link rel="icon" type="image/png" sizes="16x16" href="https://maarten.be/static/meta/favicon-16x16.png?v=1658848883551"><link rel="manifest" href="https://maarten.be/static/meta/site.webmanifest?v=1658848883551"><link rel="mask-icon" href="https://maarten.be/static/meta/safari-pinned-tab.svg?v=1658848883551" color="#6271ff"><link rel="shortcut icon" href="https://maarten.be/static/meta/favicon.ico?v=1658848883551"><meta name="apple-mobile-web-app-title" content="Maarten Tibau"><meta name="application-name" content="Maarten Tibau"><meta name="msapplication-TileColor" content="#26272f"><meta name="msapplication-config" content="https://maarten.be/static/meta/browserconfig.xml?v=1658848883551"><meta name="theme-color" content="#26272f"><meta name="color-scheme" content="dark light"><meta name="viewport" content="width=device-width,maximum-scale=5,user-scalable=yes"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@maartentibau"><meta name="twitter:creator" content="@maartentibau"><meta name="twitter:description" content="Everything you need to know to easily deploy your Eleventy website to GitHub Pages with the help of GitHub Actions."><meta name="twitter:title" content="How to deploy your Eleventy website to GitHub Pages with GitHub Actions - Maarten Tibau"><meta name="twitter:image" content=""><meta property="og:type" content="article"><meta name="og:title" content="How to deploy your Eleventy website to GitHub Pages with GitHub Actions - Maarten Tibau"><meta property="og:description" content="Everything you need to know to easily deploy your Eleventy website to GitHub Pages with the help of GitHub Actions."><meta property="og:url" content="https://maarten.be/blog/20220726/how-to-deploy-your-eleventy-website-to-github-pages-with-github-actions/"><meta name="og:image" content=""></head><body><div id="top" class="site-wrap"><div class="maarten"><header><div class="row"><nav class="grid between gutter-xs@sm middle nav"><a href="/" class="col auto-all"><svg xmlns="http://www.w3.org/2000/svg" class="nav-logo" width="203" height="53" viewBox="0 0 203 53"><path d="M38.83,53a2.87,2.87,0,0,1-1.58-5.27l13-8.5L38.74,31.7,22,51.53a4.16,4.16,0,0,1-5.45.79L1.87,42.7A4.16,4.16,0,0,1,.68,37a4.21,4.21,0,0,1,1.19-1.19l15-9.84A2.87,2.87,0,1,1,20,30.72h0l-13,8.51,11.47,7.52L35.27,26.93a4.16,4.16,0,0,1,5.45-.8l14.67,9.63a4.16,4.16,0,0,1,0,6.94l-15,9.83A2.8,2.8,0,0,1,38.83,53Z" fill="#6271ff"/><path d="M28.63,20.65A10.33,10.33,0,1,1,39,10.33,10.32,10.32,0,0,1,28.63,20.65Zm0-14.91a4.59,4.59,0,1,0,4.58,4.59A4.58,4.58,0,0,0,28.63,5.74Z" fill="#ffdb01"/><path d="M88.14,9.82V22.44h-2.4V14.36l-3.35,4.93h-.66l-3.35-4.92v8.08H76V9.82h2.17l3.89,5.84L86,9.82Zm15.62-.08h-1.93L96.08,22.45h2.54l4.15-9.29,4.12,9.29h2.62Zm20,0h-1.93l-5.75,12.71h2.54l4.15-9.29,4.12,9.29h2.61Zm31.72.07v2.31h3.87V22.44h2.43V12.12h3.86V9.81Zm45.14,0V18l-6.44-8.19h-2V22.44h2.37V14l6.62,8.4H203V9.82ZM76,31.1v2.31h3.87V43.74H82.3V33.41h3.87V31.1Zm18.68,0V43.74H97.1V31.11ZM116.84,40v0c0,2.28-1.81,3.69-4.73,3.69h-5.67V31.11h5.45a4.74,4.74,0,0,1,3.4,1.18,3.11,3.11,0,0,1,.91,2.24v0A3.17,3.17,0,0,1,115,37.12,3.11,3.11,0,0,1,116.84,40Zm-2.42-.08c0-.65-.43-1.43-2.51-1.43h-3.09v3h3.33c.68,0,2.27-.15,2.27-1.51Zm-5.6-3.68h2.87c.62,0,2.09-.15,2.09-1.51v0c0-1.15-1.25-1.33-2-1.33h-3Zm44.36-5.14v7.26c0,1.48-.5,3.24-2.92,3.24-1.92,0-3-1.17-3-3.33V31.11h-2.41v7.26c0,3.42,2.05,5.55,5.34,5.55s5.36-2.11,5.36-5.66V31.11ZM131.78,31h-1.93l-5.74,12.7h2.55l4.15-9.28,4.12,9.28h2.61Zm13.14-13.52a3.79,3.79,0,0,0,2.75-3.7v0a3.73,3.73,0,0,0-1-2.66A5.14,5.14,0,0,0,143,9.82h-5.52v2.3h5.42c.89,0,2.39.22,2.39,1.72v0c0,1.13-.92,1.82-2.41,1.82h-5.4v6.76h2.41V18h2.46l3.34,4.48h3Zm31.37,2.64V17.23h6.45V14.94H174v7.51h9.57V20.16ZM174,9.82v2.29h9.48V9.82Z"/></svg></a><div class="col-10 last@sm"><ul class="js-nav-list nav-list"><li class=""><a href="https://maarten.be/">Home</a></li><li class=""><a href="https://maarten.be/about">About me</a></li><li class="active"><a href="https://maarten.be/blog">Blog</a></li><li class="show@sm"><button class="js-theme-toggle theme-toggle"><div class="theme-toggle-dark" title="Enable dark mode"><i class="icon-moon"></i></div><div class="theme-toggle-light" title="Enalbe light mode"><i class="icon-sun"></i></div></button></li></ul></div><div class="hide@sm auto col"><button class="js-theme-toggle theme-toggle ml-a mr-a"><div class="theme-toggle-dark" title="Enable dark mode"><i class="icon-moon"></i></div><div class="theme-toggle-light" title="Enalbe light mode"><i class="icon-sun"></i></div></button></div><div class="col auto@sm show@sm"><div class="js-nav-toggle nav-toggle"><span></span><span></span><span></span><span></span></div></div></nav></div></header><main class="row"><div class="bg-grey-3 mb-lg panel pb-lg pt-lg"><div class="grid"><div class="col-17"><h1 class="fw-medium f-xxl@sm f-xxxl">How to deploy your Eleventy website to GitHub Pages with GitHub Actions</h1></div></div><div class="b-grey bb mb-xs mt-xs"></div><div class="mb-xs c-grey f-sm@sm">July 26, 2022</div><div class="f-sm c-secondary">#eleventy #11ty #automation #tutorial #github pages #github actions</div></div><div class="grid"><div class="col-17 mb-xxl"><div class="b-grey br b-off@sm editor-txt pr-lg pr-off@sm"><h2 id="the-idea" tabindex="-1">The Idea <a class="header-anchor" href="#the-idea"><span aria-hidden="true" class="header-anchor__symbol" title="Direct link to this section"><img src="/static/svg/link.svg" height="20" alt="link icon"></span></a></h2><p>When I started on this journey to create my own blog a few things were very clear to me:</p><ul><li>create a fully static website</li><li>be able to write my blogs in markdown</li><li>host it on GitHub Pages</li><li>use GitHub Actions for CI/CD</li></ul><p>So after evaluating a few static site generators I went with Eleventy.</p><h2 id="basic-setup" tabindex="-1">Basic setup <a class="header-anchor" href="#basic-setup"><span aria-hidden="true" class="header-anchor__symbol" title="Direct link to this section"><img src="/static/svg/link.svg" height="20" alt="link icon"></span></a></h2><p>Create a new folder and initialize it with the following command. This will create a <code>package.json</code> file in your directory.</p><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> init -y</code></pre><p>For now, I'm going to stick to the bare minimum for this setup. In some follow-up blog posts I'll be adding some extra features.</p><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @11ty/eleventy@latest sass@latest -save-exact</code></pre><p>After the packages are installed, open the <code>package.json</code> file and add these commands inside the <code>scripts</code> tag.</p><pre class="language-bash"><code class="language-bash"><span class="token string">"watch:sass"</span><span class="token builtin class-name">:</span> <span class="token string">"sass src/static/scss:public/static/css --watch"</span>,<br><span class="token string">"build:sass"</span><span class="token builtin class-name">:</span> <span class="token string">"sass src/static/scss:public/static/css"</span>,<br><span class="token string">"watch:eleventy"</span><span class="token builtin class-name">:</span> <span class="token string">"eleventy --serve"</span>,<br><span class="token string">"build:eleventy"</span><span class="token builtin class-name">:</span> <span class="token string">"ELEVENTY_ENV=development eleventy"</span>,<br><span class="token string">"start"</span><span class="token builtin class-name">:</span> <span class="token string">"npm run watch:eleventy &amp; npm run watch:sass"</span>,<br><span class="token string">"build"</span><span class="token builtin class-name">:</span> <span class="token string">"npm run build:eleventy &amp; npm run build:sass"</span></code></pre><p>To be able to run our Eleventy skeleton we need to add a few things first. Create the following folder structure.</p><ul><li>src<ul><li>_includes</li><li>static<ul><li>scss</li></ul></li></ul></li></ul><p>When you've done that, create a file called <code>.eleventy.js</code> in the <code>src</code> folder and give it this content.</p><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function function-variable">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">setBrowserSyncConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token property literal-property">files</span><span class="token operator">:</span> <span class="token string">'./public/static/**/*.css'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span><br>    <span class="token property literal-property">dir</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property literal-property">input</span><span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span><br>      <span class="token property literal-property">output</span><span class="token operator">:</span> <span class="token string">'public'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>The <code>.eleventy.js</code> file is where all the configuration is done. Here we'll also define things like filters, add plugins, etc... The current configuration will reload the website whenever a change is made to our <code>scss</code>. Secondly, the compiled <code>scss</code> output will be served in the <code>public/static/css</code> folder.</p><p>Now let's add the last 3 files so we can get up and running. First create a file called <code>main.scss</code> and put it in the <code>static/scss</code> folder. Secondly we're going to create a <code>base.njk</code> and put it in the <code>_includes</code> folder, you can give it the content below.</p><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    {% block content %} {{ content | safe }} {% endblock %}<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>Lastly add <code>index.md</code> in the <code>src</code> folder with this content and run the <code>npm run start</code> command in your terminal.</p><pre class="language-markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><br><span class="token front-matter language-yaml yaml">layout: 'base.njk'<br>permalink: /<br>title: 'My Eleventy Website'</span><br><span class="token punctuation">---</span></span><br><br><span class="token important title"><span class="token punctuation">#</span> Hello World!</span></code></pre><p>The output in your terminal should look like this. Open a browser and navigation to <code>localhost:8080</code>, it should show <code>Hello World!</code> on the page. To make sure that the styling of our website will be properly rendered lets modify the <code>base.njk</code> by adding the <code>url</code> to our stylesheet inside the <code>&lt;head&gt;</code> tag.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ <span class="token punctuation">'</span>/static/css/main.css<span class="token punctuation">'</span> | url }}<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>screen<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><p>Let's do something crazy and add this to <code>main.scss</code> and go back to the browser to see the result. Because of <code>setBrowserSyncConfig</code> in our <code>config</code> the browser should automatically refresh.</p><pre class="language-scss"><code class="language-scss"><span class="token selector">h1 </span><span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> darkblue<span class="token punctuation">;</span><br>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br>  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="push-our-code-to-github" tabindex="-1">Push our code to GitHub <a class="header-anchor" href="#push-our-code-to-github"><span aria-hidden="true" class="header-anchor__symbol" title="Direct link to this section"><img src="/static/svg/link.svg" height="20" alt="link icon"></span></a></h2><p>First create a <code>.gitignore</code> file in the root folder, so we don't push unnecessary files to the repository.</p><pre class="language-bash"><code class="language-bash"><span class="token comment"># Dependencies</span><br>/node_modules<br><br><span class="token comment"># Misc</span><br>/public<br><br><span class="token comment"># Intellij</span><br>/.idea<br><br><span class="token comment"># Sass</span><br>.sass-cache/<br>*.css.map<br>*.sass.map<br>*.scss.map<br><br><span class="token comment"># Visual Studio Code</span><br>/.vscode<br>.history</code></pre><p>Head over to <a href="https://github.com/new">GitHub</a> and create a new repository called <code>my-eleventy-website</code>. Don't add a <code>README</code>, <code>.gitignore</code> and <code>LICENCE</code>, the should be unselected by default.</p><p>Go into the root folder of your project and perform the following commands. Make sure to adjust the parts between <code>{{ ... }}</code></p><pre class="language-bash"><code class="language-bash"><span class="token function">git</span> init<br><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><br><span class="token function">git</span> commit -m <span class="token string">"first commit"</span><br><span class="token function">git</span> branch -M <span class="token punctuation">{</span><span class="token punctuation">{</span> your default branch <span class="token punctuation">}</span><span class="token punctuation">}</span><br><span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/<span class="token punctuation">{</span><span class="token punctuation">{</span>your-github-username<span class="token punctuation">}</span><span class="token punctuation">}</span>/my-eleventy-website.git<br><span class="token function">git</span> push -u origin <span class="token punctuation">{</span><span class="token punctuation">{</span> your default branch <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="setup-github-pages" tabindex="-1">Setup GitHub Pages <a class="header-anchor" href="#setup-github-pages"><span aria-hidden="true" class="header-anchor__symbol" title="Direct link to this section"><img src="/static/svg/link.svg" height="20" alt="link icon"></span></a></h2><p>Alright, now that our repository is created we can enable GitHub Pages. Go to the page of the repository you've just created and click on the settings button in the top right.</p><p>Click on the Pages button and select your default branch in the dropdown, probably this will be <code>main</code> or <code>master</code>, leave <code>/(root)</code> as the selected folder. Click on <code>save</code> to confirm the settings.</p><p>Once you've done this a message will appear with the URL of your published website.</p><h2 id="build-your-website-with-github-actions" tabindex="-1">Build your website with GitHub Actions <a class="header-anchor" href="#build-your-website-with-github-actions"><span aria-hidden="true" class="header-anchor__symbol" title="Direct link to this section"><img src="/static/svg/link.svg" height="20" alt="link icon"></span></a></h2><p>By default GitHub pages will use Jekyll to generate your website. In our case we're using Eleventy so we want to inform GitHub Pages about this. To do this, create an empty file called <code>.nojekyll</code> and put it in the root directory.</p><p>Next create <code>.github</code> folder also in the root directory and inside that folder create another folder called <code>workflows</code>. In this folder we will put the workflows which will be executed by GitHub Actions.</p><p>We're going to create 2 workflows, the first one will perform a build when a pull request is created. Create a file with the name <code>build.yml</code>. If your default branch is something other than <code>main</code> make sure to change this in the <code>branches</code> array.</p><p>This workflow will only perform a build and not yet deploy your changes. This way there is a failsafe.</p><pre class="language-yaml"><code class="language-yaml"><span class="token atrule key">name</span><span class="token punctuation">:</span> Build on PR<br><br><span class="token atrule key">on</span><span class="token punctuation">:</span><br>  <span class="token atrule key">pull_request</span><span class="token punctuation">:</span><br>    <span class="token atrule key">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'main'</span><span class="token punctuation">]</span><br><br><span class="token atrule key">jobs</span><span class="token punctuation">:</span><br>  <span class="token atrule key">build</span><span class="token punctuation">:</span><br>    <span class="token atrule key">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest<br><br>    <span class="token atrule key">strategy</span><span class="token punctuation">:</span><br>      <span class="token atrule key">matrix</span><span class="token punctuation">:</span><br>        <span class="token atrule key">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'14.17.6'</span><span class="token punctuation">]</span><br><br>    <span class="token atrule key">steps</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/checkout@v3<br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Use Node.js $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span><br>        <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3<br>        <span class="token atrule key">with</span><span class="token punctuation">:</span><br>          <span class="token atrule key">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span><br>          <span class="token atrule key">cache</span><span class="token punctuation">:</span> <span class="token string">'npm'</span><br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Install packages<br>        <span class="token atrule key">run</span><span class="token punctuation">:</span> npm ci<br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Run npm build<br>        <span class="token atrule key">run</span><span class="token punctuation">:</span> npm run build</code></pre><p>Next create <code>build-and-deploy.yml</code>. As the name of the file already suggests, this workflow will build and deploy our website to GitHub Pages when a <code>push</code> is done on <code>main</code> branch, for example when you merge a PR.</p><pre class="language-yaml"><code class="language-yaml"><span class="token atrule key">name</span><span class="token punctuation">:</span> Build &amp; Deploy<br><br><span class="token atrule key">on</span><span class="token punctuation">:</span><br>  <span class="token atrule key">push</span><span class="token punctuation">:</span><br>    <span class="token atrule key">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'main'</span><span class="token punctuation">]</span><br><br><span class="token atrule key">jobs</span><span class="token punctuation">:</span><br>  <span class="token atrule key">build</span><span class="token punctuation">:</span><br>    <span class="token atrule key">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest<br><br>    <span class="token atrule key">strategy</span><span class="token punctuation">:</span><br>      <span class="token atrule key">matrix</span><span class="token punctuation">:</span><br>        <span class="token atrule key">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'14.17.6'</span><span class="token punctuation">]</span><br><br>    <span class="token atrule key">steps</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/checkout@v3<br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Use Node.js $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span><br>        <span class="token atrule key">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3<br>        <span class="token atrule key">with</span><span class="token punctuation">:</span><br>          <span class="token atrule key">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span><br>          <span class="token atrule key">cache</span><span class="token punctuation">:</span> <span class="token string">'npm'</span><br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Install packages<br>        <span class="token atrule key">run</span><span class="token punctuation">:</span> npm ci<br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Run npm build<br>        <span class="token atrule key">run</span><span class="token punctuation">:</span> npm run build<span class="token punctuation">:</span>prod<br><br>      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> Deploy to gh<span class="token punctuation">-</span>pages<br>        <span class="token atrule key">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3<br>        <span class="token atrule key">with</span><span class="token punctuation">:</span><br>          <span class="token atrule key">deploy_key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACTIONS_DEPLOY_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>Before we can use this workflow we'll need to create an <code>ACTIONS_DEPLOY_KEY</code>. This key is needed to be able to deploy our generated code to GitHub Pages. Follow the steps that are described on this page to create your <a href="https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key">ACTIONS_DEPLOY_KEY</a>.</p><p>Now let's add extra commands to our <code>scripts</code> property in the <code>package.json</code> file when running our build on GitHub.</p><pre class="language-bash"><code class="language-bash"><span class="token string">"build:sass:prod"</span><span class="token builtin class-name">:</span> <span class="token string">"sass src/static/scss:public/static/css --style compressed"</span>,<br><span class="token string">"build:eleventy:prod"</span><span class="token builtin class-name">:</span> <span class="token string">"ELEVENTY_ENV=production eleventy"</span>,<br><span class="token string">"build:prod"</span><span class="token builtin class-name">:</span> <span class="token string">"npm run build:eleventy:prod &amp; npm run build:sass"</span></code></pre><p>Once that is done we can push all the changes to our repository and let the magic happen!</p><pre class="language-bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><br><span class="token function">git</span> commit -m <span class="token string">"build and deploy"</span><br><span class="token function">git</span> push</code></pre><p>Now head over to your repository on GitHub and click on the <code>Actions</code> tab on top. Normally you should see the <code>Build &amp; Deploy</code> workflow being executed, once that is done another workflow called <code>pages-build-deployment</code> will be triggered and deploy the generated website to GitHub Pages. Navigate to the URL where your website is published to see the final result. You've done it!</p><p>The complete source of the whole setup can be found on <a href="https://github.com/maartentibau/maarten.be/tree/20220726_how-to-deploy-your-eleventy-website-to-github-pages-with-github-actions">GitHub</a></p><p>In a follow-up post I will dive deeper into creating an actual blog with Eleventy and some thing I learned along the way, so stay tuned for more content!</p></div><div class="b-grey br f-sm fw-extra-light lh-lg pt-lg"><p class="ta-c">Notice a typo or some other issue? Feel free to submit a PR.</p><p class="ta-c center pt-sm socials"><a href="https://github.com/maartentibau/maarten.be/blob/main/./src/posts/20220726_how-to-deploy-your-eleventy-website-to-github-pages-with-github-actions.md" target="_blank" rel="noopener noreferrer"><i class="icon-github"></i></a></p></div></div><div class="col-7 pt-md pt-off@sm"><a class="hide@sm d-f mb-lg middle" href="/blog"><i class="f-lg c-primary icon-arrow-left mr-xs"></i> Back to overview</a><div class="fw-medium f-md ta-c@sm">Share with your friends</div><ul class="f-lg center@sm mb-md socials mt-xs"><li><a href="https://twitter.com/intent/tweet?text=How to deploy your Eleventy website to GitHub Pages with GitHub Actions&url=https://maarten.be/blog/20220726/how-to-deploy-your-eleventy-website-to-github-pages-with-github-actions/" target="_blank" rel="noopener noreferrer" title="Share on article on twitter"><i class="icon-twitter"></i></a></li><li><a href="https://www.linkedin.com/sharing/share-offsite/?url=https://maarten.be/blog/20220726/how-to-deploy-your-eleventy-website-to-github-pages-with-github-actions/" target="_blank" rel="noopener noreferrer" title="Share on article on LinkedIn"><i class="icon-linkedin"></i></a></li></ul></div></div></main><section class="pt-xl bg-grey-3 pb-xxl"><div class="row"><h2 class="ta-c f-xxl@sm f-xxxl fw-light mb-xl">Other Articles You Might Like</h2><div class="grid elements-spacer-lg elements-spacer@sm"></div></div></section></div><footer class="ftr"><div class="row"><div class="grid no-gutter ta-c@sm"><div class="col-7"><div class="pt-xl h-100 pb-xl pr-lg pr-off@sm"><strong class="fw-medium f-xl mb d-b">Maarten Tibau</strong> <a class="td-u-hover f-md" href="mailto:hello@maarten.be">hello@maarten.be</a><ul class="f-lg center@sm mb-md socials mt-md"><li><a href="https://twitter.com/maartentibau" target="_blank" rel="noopener noreferrer"><i class="icon-twitter"></i></a></li><li><a href="https://be.linkedin.com/in/maartentibau" target="_blank" rel="noopener noreferrer"><i class="icon-linkedin"></i></a></li><li><a href="https://github.com/maartentibau" target="_blank" rel="noopener noreferrer"><i class="icon-github"></i></a></li></ul><div class="lh-lg">&copy 2022 Maarten Tibau</div></div></div><div class="hide@sm col-8"><div class="pt-xl h-100 pb-xl pl-lg bg-grey-1 bg-stretch-left@sm bg-stretch-right@sm pr-lg"><h2 class="fw-medium f-xl mb">Sitemap</h2><ul class="bulleted-list d-ib@sm ta-l"><li class="mb"><a class="td-u-hover" href="/">Home</a></li><li class="mb"><a class="td-u-hover" href="/about">About me</a></li><li><a class="td-u-hover" href="/blog">Blog</a></li></ul></div></div><div class="hide@sm col-9"><div class="pt-xl h-100 pb-xl pl-lg pl-off@sm"><h2 class="fw-medium f-xl mb">Most recent posts</h2><ul class="bulleted-list d-ib@sm ta-l"></ul></div></div></div></div></footer><a class="bg-primary js-scrollTop scroll-top" href="#top"><i class="ta-c f-md icon-arrow-up scroll-top-icon"></i> <span class="fw-medium bg-grey-5 f-sm p-sm tt-u">Scroll<br>to top</span></a></div><div class="show@sm mobileIndicator"></div><script src="https://maarten.be/static/js/general.min.js?v=1658848883551"></script></body></html>